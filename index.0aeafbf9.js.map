{"mappings":"YAOA,IAAMA,EAAO,CACTC,OAAQC,SAASC,cAAc,iBAC/BC,QAASF,SAASC,cAAc,aAChCE,OAAQH,SAASC,cAAc,WAC/BG,MAAOJ,SAASC,cAAc,WAG5BI,EAAW,gCAEXC,EAAU,wEAyBf,SAASC,EAAgBC,GACrB,OAAOC,MAAM,GAAoCC,OAAjCL,EAAS,0BAA6CK,OAArBJ,EAAQ,eAAqBI,OAARF,IACjEG,MAAK,SAAAC,GACX,IAAKA,EAASC,GAEZ,MADAC,QAAQC,IAAI,0CACN,IAAIC,MAAMJ,EAASK,YAE3B,OAAOL,EAASM,M,IAMpBpB,EAAKC,OAAOoB,iBAAiB,UAE7B,SAAkBC,GAEdb,EAAgBa,EAAMC,OAAOC,OAAOX,MAAK,SAACY,GAEtCzB,EAAKI,QAAQsB,UAAY,uBACQd,OAArBa,EAAK,GAAGE,IAAI,WAEnBf,OAF4Ba,EAAK,GAAGG,OAAO,GAAGC,KAAK,oEAGrDjB,OADEa,EAAK,GAAGG,OAAO,GAAGC,KAAK,oBAEZjB,OADba,EAAK,GAAGG,OAAO,GAAGE,YAAY,gCACalB,OAA9Ba,EAAK,GAAGG,OAAO,GAAGG,YAAY,gC,OA7CjDpB,MAAM,GAAcC,OAAXL,GAA+BK,OAL5B,SAKiB,aAAmBA,OAARJ,IACpCK,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIG,MAAMJ,EAASK,YAEjC,OAAOL,EAASM,M,IAEdP,MAAK,SAACY,GACHT,QAAQC,IAAIQ,GACb,IAAMrB,EAAUqB,EACXO,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIL,EAAII,EAAJJ,K,MAAW,kBAAyBjB,OAAPsB,EAAG,MAAStB,OAALiB,EAAK,Y,IACpDM,KAAK,IACNnC,EAAKC,OAAOmC,mBAAmB,YAAahC,E,IAGnDiC,OAAM,SAAAC,GACPtB,QAAQC,IAAIqB,E,IClBpB7B,G","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["// import axios from \"axios\";\n// axios.defaults.headers.common[\"x-api-key\"] = \"live_hj3bZ5YYrlS7jC7F7EuKKOPYrFuUayTJnyrIAMNiPu2sdFPugKifPlNkZu0uskLu\";\n\n// let api = axios.create({\n//   baseURL: 'https://api.thecatapi.com/v1/breeds'\n// })\n\nconst refs = {\n    select: document.querySelector('.breed-select'),\n    catInfo: document.querySelector('.cat-info'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n};\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/'\nconst ENDPOINT = 'breeds'\nconst API_KEY = 'live_hj3bZ5YYrlS7jC7F7EuKKOPYrFuUayTJnyrIAMNiPu2sdFPugKifPlNkZu0uskLu'\n\nfunction fetchBreeds() {\n     \n     fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n        return response.json();\n        })\n         .then((data) => {\n             console.log(data);\n            const catInfo = data\n                .map(({ id, name }) => `<option value='${id}'>${name}</option>`)\n                .join('');\n                refs.select.insertAdjacentHTML('beforeend', catInfo);\n        }\n        )\n        .catch(err => {\n        console.log(err);\n        })\n     \n};\n\n function fetchCatByBreed(breedId) { \n     return fetch(`${BASE_URL}images/search?api_key=${API_KEY}&breed_ids=${breedId}`)\n         .then(response => {\n    if (!response.ok) {\n      console.log('There is an error while fetching a cat');\n      throw new Error(response.statusText);\n    }\n    return response.json();\n         })\n};\n\n\n\nrefs.select.addEventListener('change', onSelect)\n\nfunction onSelect(event) {\n    \n    fetchCatByBreed(event.target.value).then((data) => {\n       \n        refs.catInfo.innerHTML = `\n        <img src=\"${data[0].url}\" alt=\"${data[0].breeds[0].name}\" srcset=\"\" width='300'/>\n        <div class=\"\">\n       <h2>${data[0].breeds[0].name}</h2>\n      <p>${data[0].breeds[0].description}</p>\n       <p>Temperament:${data[0].breeds[0].temperament}</p>\n       </div>\n        `\n    })\n}\n\n\nexport { fetchBreeds, fetchCatByBreed, refs };\n\n\n\n\n","// import axios from \"axios\";\n// axios.defaults.headers.common[\"x-api-key\"] = \"live_hj3bZ5YYrlS7jC7F7EuKKOPYrFuUayTJnyrIAMNiPu2sdFPugKifPlNkZu0uskLu\";\n\n// let api = axios.create({\n//   baseURL: 'https://api.thecatapi.com/v1/breeds'\n// })\nimport { fetchBreeds, fetchCatByBreed, refs} from \"./cat-api\";\n\n// const refs = {\n//     select: document.querySelector('.breed-select')\n// };\n\n// const BASE_URL = 'https://api.thecatapi.com/v1/'\n// const ENDPOINT = 'breeds'\n// const API_KEY = 'live_hj3bZ5YYrlS7jC7F7EuKKOPYrFuUayTJnyrIAMNiPu2sdFPugKifPlNkZu0uskLu'\n// let storedBreeds = []\n\nfetchBreeds();\nfetchCatByBreed();\n// function fetchBreeds() {\n//     return fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}`).then(resp => {\n//         if (!resp.ok) {\n//             throw new Error(resp.statusText)\n//         };\n//         return resp.json('');\n//     })\n//         .then((data) => {\n   \n//             //filter to only include those with an `image` object\n//             data = data.filter(img => img.image?.url != null)\n   \n//             storedBreeds = data;\n   \n//             for (let i = 0; i < storedBreeds.length; i++) {\n//                 const breed = storedBreeds[i];\n//                 let option = document.createElement('option');\n     \n//                 //skip any breeds that don't have an image\n//                 if (!breed.image) continue\n     \n//                 //use the current array index\n//                 option.value = i;\n//                 option.innerHTML = `${breed.name}`;\n//                 refs.select.appendChild(option);\n//             }\n//             //show the first breed by default\n  \n//         }).catch(err => console.log(err))\n// };\n\n\n \n//  function fetchBreeds() {\n//      fetch(`${BASE_URL}${ENDPOINT}?api_key=${API_KEY}`)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error(response.statusText)\n//             }\n//         return response.json();\n//         })\n//          .then((data) => {\n            \n//             const catInfo = data\n//                 .map(({ id, name }) => `<option value='${id}'>${name}</option>`)\n//                 .join('');\n//             console.log(catInfo)\n//             refs.selectEl.insertAdjacentHTML('beforeend', catInfo);\n//         }\n//         )\n//         .catch(err => {\n//         console.log(err);\n//     })\n// }\n\n"],"names":["$ae0c329fb0fb36dc$export$21666b427502ea6d","select","document","querySelector","catInfo","loader","error","$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$API_KEY","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","fetch","concat","then","response","ok","console","log","Error","statusText","json","addEventListener","event","target","value","data","innerHTML","url","breeds","name","description","temperament","map","param","id","join","insertAdjacentHTML","catch","err"],"version":3,"file":"index.0aeafbf9.js.map"}